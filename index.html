---
layout: home
title: Bilal Ben Nasr
subtitle: AI and Applied Mathematics student, actively seeking an internship.
---

---
layout: default
---

<div class="chat-container">
  <div class="messages-wrapper" id="messages">
    <div class="loading-indicator" id="loading">IA réfléchit...</div>
    
    <!-- Exemple de message -->
    <div class="message user-message">
      <div class="message-content">Bonjour !</div>
      <span class="timestamp">10:00</span>
    </div>
    
    <div class="message bot-message">
      <div class="message-content">Bonjour ! Comment puis-je vous aider ?</div>
      <span class="timestamp">10:01</span>
    </div>
  </div>

  <form class="chat-form" id="chat-form">
    <input 
      type="text" 
      id="user-input" 
      placeholder="Écrivez votre message..."
      autocomplete="off"
    >
    <button type="submit" id="submit-btn">
      Envoyer → 
    </button>
  </form>
</div>

<script>
document.getElementById('chat-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  const input = document.getElementById('user-input');
  const messagesDiv = document.getElementById('messages');

  // Ajouter le message utilisateur
  messagesDiv.innerHTML += `<div class="user">Vous: ${input.value}</div>`;

  try {
    const response = await fetch('https://mon-projet-next-one.vercel.app/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        messages: [{ role: 'user', content: input.value }]
      }),
    });

    const data = await response.json();
    messagesDiv.innerHTML += `<div class="bot">IA: ${data.reply}</div>`;

  } catch (error) {
    console.error('Erreur:', error);
    messagesDiv.innerHTML += `<div class="error">Erreur de connexion</div>`;
  }

  input.value = '';
});
</script>
