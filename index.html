---
layout: home
title: Bilal Ben Nasr
subtitle: AI and Applied Mathematics student, actively seeking an internship.
---

---
layout: default
---

<div id="chat">
  <div id="messages"></div>
  <form id="chat-form">
    <input type="text" id="user-input" placeholder="Votre message...">
    <button type="submit">Envoyer</button>
  </form>
</div>

<script>
document.getElementById('chat-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  const input = document.getElementById('user-input');
  const messagesDiv = document.getElementById('messages');

  // Ajouter le message utilisateur
  messagesDiv.innerHTML += `<div class="user">Vous: ${input.value}</div>`;

  try {
    const response = await fetch('https://mon-projet-next-one.vercel.app/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        messages: [{ role: 'user', content: input.value }]
      }),
    });

    const data = await response.json();
    messagesDiv.innerHTML += `<div class="bot">IA: ${data.reply}</div>`;

  } catch (error) {
    console.error('Erreur:', error);
    messagesDiv.innerHTML += `<div class="error">Erreur de connexion</div>`;
  }

  input.value = '';
});
</script>
